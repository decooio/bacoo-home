(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[110],{31210:function(t,e,o){"use strict";var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(e,o)};return function(e,o){if("function"!==typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(o(67294)),s=r(o(19222)),c=r(o(65980)),u=o(43190),a=o(95982),f=r(o(52196)),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.id=(0,c.default)(8),e.hasCreated=!1,e.imgFile=new f.default,e.defaultConfig={zIndex:1},e.editor=null,e.__hook__run=function(t,e,o){void 0===t&&(t=[]),void 0===e&&(e=[]),t.forEach((function(t,n){if(t in o&&"function"===typeof o[t]&&e[n])o[t].apply(o[t],e[n]);else if(/^(\w+\.\w+)+$/.test(t)&&e[n]){var r=t.split("."),i=[],s=o;r.forEach((function(t){i.push(s),s=s[t]})),i.push(s),"function"===typeof s?s.apply(i[i.length-2],e[n]):"function"===typeof e[n]&&e[n].apply(e[n],i)}}))},e.setDefaultConfigByProps=function(){var t=e.props,o=t.placeholder,n=t.onChange,r=t.onFocus,i=t.onBlur,s=t.linkImgCallback,c=t.onlineVideoCallback,u=t.localBlobImg;o&&(e.defaultConfig.placeholder=o),n&&(e.defaultConfig.onchange=n),r&&(e.defaultConfig.onfocus=r),i&&(e.defaultConfig.onblur=i),s&&(e.defaultConfig.linkImgCallback=s),c&&(e.defaultConfig.onlineVideoCallback=c),u&&(e.defaultConfig.customUploadImg=function(t,o){t.forEach((function(t){var n=URL.createObjectURL(t);e.imgFile.saveImgFiles(n,t),o(n)}))})},e.changeCreatedFlag=function(t){return e.hasCreated=t},e.created=function(){return e.changeCreatedFlag(!0)},e.destroyed=function(){return e.changeCreatedFlag(!1)},e.isCreated=function(){return!0===e.hasCreated},e}return n(e,t),e.prototype.componentDidUpdate=function(t){var e=t.value;(0,u.isEqualString)(e,this.props.value)||this.setContentByHTMLString(this.props.value)},e.prototype.componentDidMount=function(){try{this.init(),this.create()}catch(t){console.error("[ReactWEdtior Error]: ".concat(t))}},e.prototype.componentWillUnmount=function(){this.editor&&this.editor.destroy()},e.prototype.__before__instanced=function(){var t=this.props.globalHook,e=void 0===t?{}:t,o=Object.keys(e),n=Object.values(e);this.__hook__run(o,n,s.default)},e.prototype.__after__instanced=function(){if(this.check()){var t=this.props.instanceHook,e=void 0===t?{}:t,o=Object.keys(e),n=Object.values(e);this.__hook__run(o,n,this.editor)}},e.prototype.init=function(){document.getElementById("editor-".concat(this.id))?(this.__before__instanced(),this.editor=new s.default("#editor-".concat(this.id)),this.__after__instanced(),this.setDefaultConfigByProps(),this.setConfig(this.defaultConfig)):console.error("[ReactWEdtior Error]: dom is not found")},e.prototype.check=function(){return!!this.editor||(console.error("[ReactWEdtior Error]: editor not found"),!1)},e.prototype.create=function(t){void 0===t&&(t={});var e=this.props,o=e.config,n=e.defaultValue;this.check()&&(this.setConfig(o),this.extend(t),this.editor.create(),this.created(),this.setContentByHTMLString(n))},e.prototype.extend=function(t,e){var o=this;if(void 0===t&&(t={}),void 0===e&&(e=[]),this.check()){var n=Object.keys(this.editor).concat(e||[]);(0,u.difference)(Object.keys(t),n).forEach((function(e){return o.editor[e]=t[e]}))}},e.prototype.destroy=function(){this.isCreated()?(this.editor.destroy(),this.editor=null,this.destroyed()):console.error("[ReactWEdtior Error]: editor has not created, don't destroy.")},e.prototype.setConfig=function(t){t&&(this.editor.config=Object.assign(this.editor.config,t));var e=this.props.languages;e&&!(0,u.isEmpty)(e)&&(this.editor.config.languages=Object.assign(this.editor.config.languages,e))},e.prototype.setContentByHTMLString=function(t){if(this.isCreated()||console.error("[ReactWEdtior Error]: editor has not created"),this.check())try{this.editor.txt.html(t)}catch(e){console.error("[ReactWEdtior Error]: ".concat(e))}},e.prototype.replaceHTMLImgBlobURL=function(t,e){return(0,a.replaceHTMLImgBlobURL)(t,this.imgFile.getAllImgFiles(),e)},e.prototype.render=function(){var t=this.props,e=t.style,o=t.className;return i.default.createElement("div",{style:e,className:o,id:"editor-".concat(this.id)})},e}(i.default.PureComponent);e.default=l},99020:function(t,e,o){"use strict";var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(e,o)};return function(e,o){if("function"!==typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(o(31210));e.default=function(t){return function(e){function o(t){return e.call(this,t)||this}return n(o,e),o.prototype.componentDidMount=function(){try{this.init(),this.create(t)}catch(e){console.error("[ReactWEdtior Error]: ".concat(e))}},o}(i.default)}},52196:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){var t=this;this.saveImgFiles=function(e,o,n){void 0===n&&(n=!1),t.store[e]&&!n||(t.store[e]=o)},this.getImgFile=function(e,o){return t.store[e]||o},this.getAllImgFiles=function(){return t.store},this.resetImgFiles=function(){return t.store={}},this.store={}};e.default=o},74110:function(t,e,o){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.extend=void 0;var r=n(o(31210)),i=o(99020);Object.defineProperty(e,"extend",{enumerable:!0,get:function(){return n(i).default}}),e.default=r.default},43190:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isValidKey=e.difference=e.isEmpty=e.isEqualString=void 0;e.isEqualString=function(t,e){return t===e};e.isEmpty=function(t){return null===t||void 0===t||("number"===typeof t&&t!==t?isNaN(t):"object"===typeof t&&t.length?0===t.length:"string"===typeof t?""===t:"object"===typeof t?0===Object.keys(t).length:!t)};e.difference=function(t,e){for(var o=[],n=0,r=t;n<r.length;n++){var i=r[n];e.includes(i)||o.push(i)}return o},e.isValidKey=function(t,e){return t in e},e.default={}},95982:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.replaceHTMLImgBlobURL=void 0;var o=function(t){return/<img.*?src=\\?"(.*?)\\?".*?\/?>/.test(t)};e.replaceHTMLImgBlobURL=function(t,e,n){if(void 0===n&&(n=function(t){return void 0!==t?t.toString():t}),"string"!==typeof t)return console.error("[Type Error]: content is not string"),"";if(!Object.keys(e).length&&o(t))return console.error("[File Error]: files is empty"),t;if(/<(\S*?) [^>]*>.*?<\/\1>|<.*?>/gm.test(t)&&o(t)){var r=function(t){for(var e,o=[],n=/<img.*?src=\\?"(.*?)\\?".*?\/?>/gi,r=t.replace('\\"','"');null!==e;)(e=n.exec(r))&&o.push(e);return o}(t);if(r.length){var i=t;return r.map((function(t){if(t&&t[0]){var o=t[1],r=e[o];r&&(i=i.replace(t[1],n(r)))}})),i}}return t}},65980:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var o,n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),r=[];if(e=e||n.length,t)for(o=0;o<t;o++)r[o]=n[0|Math.random()*e];else{var i=void 0;for(r[8]=r[13]=r[18]=r[23]="-",r[14]="4",o=0;o<36;o++)r[o]||(i=0|16*Math.random(),r[o]=n[19==o?3&i|8:i])}return r.join("")}}}]);