(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6022],{61319:function(e,n,t){"use strict";t.r(n),t.d(n,{BetweenFlexBox:function(){return j},LoginFormBox:function(){return Z}});var r=t(85893),a=t(809),s=t.n(a),u=t(92447),i=t(27261),c=t(29163),o=t(67294),l=t(48086),d=t(23912),f=t(13002),p=t(46819),x=t(68829),h=t(43803),m=t(22775),v=t(41559),g=t(37412);function y(){var e=(0,i.Z)(["\n  width: 100%;\n"]);return y=function(){return e},e}function w(){var e=(0,i.Z)(["\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n"]);return w=function(){return e},e}var j=c.ZP.div(w()),Z=c.ZP.div(y());n.default=function(){var e=(0,o.useContext)(g._).dispatch,n=(0,o.useState)(""),t=n[0],a=n[1],i=(0,o.useState)(""),c=i[0],y=i[1],w=(0,o.useState)(""),C=w[0],b=w[1],k=(0,o.useState)(!1),S=k[0],I=k[1],P=(0,o.useState)(""),A=P[0],_=P[1],D=(0,o.useState)(""),N=D[0],T=D[1],L=(0,o.useState)(60),E=L[0],B=L[1],U=(0,o.useState)(!1),F=U[0],O=U[1],z=(0,o.useState)(!1),G=z[0],V=z[1],q=(0,o.useState)(!1),$=q[0],M=q[1],J=(0,o.useState)(""),R=J[0],W=J[1],H=(0,o.createRef)(),K=function(){var e=(0,u.Z)(s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,h.wA)(t);case 2:n=e.sent,_(n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=function(){var n=(0,u.Z)(s().mark((function n(){var r,a;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,e({type:"UPDATE_LOADING",payload:!0}),n.next=4,(0,h.yB)({mobile:t,verifyCode:N});case 4:l.ZP.success("\u9a8c\u8bc1\u7801\u53d1\u9001\u6210\u529f"),r=60,a=setInterval((function(){0==r?(B(60),clearInterval(a)):B(r--)}),1e3),W(""),I(!1),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),n.t0.data.message?W(n.t0.data.message):W("\u672a\u77e5\u9519\u8bef \u8bf7\u7a0d\u540e\u91cd\u8bd5");case 14:e({type:"UPDATE_LOADING",payload:!1});case 15:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(){return n.apply(this,arguments)}}(),X=function(){var n=(0,u.Z)(s().mark((function n(){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:H.current.validateFields(["phone","code","password"]).then((0,u.Z)(s().mark((function n(){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,e({type:"UPDATE_LOADING",payload:!0}),n.next=4,(0,h.QG)({password:C,mobile:t,smsCode:c});case 4:l.ZP.success("\u5bc6\u7801\u5df2\u91cd\u7f6e"),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:e({type:"UPDATE_LOADING",payload:!1});case 11:case"end":return n.stop()}}),n,null,[[0,7]])}))));case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,o.useEffect)((function(){T("")}),[S]),(0,r.jsxs)(Z,{children:[(0,r.jsxs)(d.Z,{name:"loginForm",ref:H,children:[(0,r.jsx)(d.Z.Item,{name:"phone",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7"},{pattern:/^1[3456789]\d{9}$/,message:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u624b\u673a\u53f7"}],children:(0,r.jsx)(m.Z,{placeholder:"\u624b\u673a\u53f7",setValue:function(e){a(e),O((0,v.al)(e))}})}),(0,r.jsx)(d.Z.Item,{label:"",name:"code",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801"}],children:(0,r.jsxs)(j,{children:[(0,r.jsx)(m.Z,{placeholder:"\u9a8c\u8bc1\u7801",width:"280px",setValue:function(e){y(e),M((0,v.jz)(e))}}),E<60?(0,r.jsxs)(x.CountdownBtn,{style:{width:"148px"},children:[E,"s"]}):(0,r.jsx)(x.VerifyBtn,{onClick:function(){F&&H.current.validateFields(["phone"]).then((0,u.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:K(),I(!0);case 2:case"end":return e.stop()}}),e)}))))},style:F?{width:"148px",background:"#2cc8c2"}:{width:"148px",background:"rgb(204, 204, 204)"},children:"\u53d1\u9001\u9a8c\u8bc1\u7801"})]})}),(0,r.jsx)(d.Z.Item,{name:"password",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801"},{max:16,message:"\u5bc6\u7801\u5fc5\u987b\u57286~16\u4f4d\u4e4b\u95f4"},{min:6,message:"\u5bc6\u7801\u5fc5\u987b\u57286~16\u4f4d\u4e4b\u95f4"}],children:(0,r.jsx)(m.Z,{setValue:function(e){b(e),V((0,v.bT)(e))},type:"password",placeholder:"\u5bc6\u7801",maxLength:16})}),(0,r.jsx)(d.Z.Item,{wrapperCol:{span:32},children:F&&G&&$?(0,r.jsx)(p.Z,{type:"button",onClick:function(){return X()},size:"large",children:"\u91cd\u7f6e\u5bc6\u7801"}):(0,r.jsx)(p.Z,{type:"button",size:"large",style:{background:"#CCCCCC"},children:"\u91cd\u7f6e\u5bc6\u7801"})})]}),(0,r.jsxs)(f.Z,{centered:!0,title:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801",visible:S,onCancel:function(){return I(!1)},cancelText:"\u53d6\u6d88",okText:"\u786e\u5b9a",footer:null,children:[(0,r.jsx)("div",{onClick:function(){return K()},style:x.verifyCodeImgStyle,dangerouslySetInnerHTML:{__html:A}}),(0,r.jsx)(d.Z,{children:(0,r.jsx)(d.Z.Item,{validateStatus:R?"error":"validating",help:R,children:(0,r.jsx)(m.Z,{value:N,setValue:function(e){return T(e)},placeholder:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801"})})}),(0,r.jsxs)(x.BtnBox,{children:[(0,r.jsx)(p.Z,{style:{width:"45%",height:"40px",background:"rgba(44, 200, 194, 0.06)",border:"1px solid #2CC8C2",color:"#2CC8C2"},onClick:function(){return I(!1)},children:"\u53d6\u6d88"}),(0,r.jsx)(p.Z,{style:{width:"45%",height:"40px",background:N.length>0?"#2CC8C2":"#CCCCCC"},onClick:function(){N.length>0&&Q()},children:"\u786e\u5b9a"})]})]})]})}},92159:function(e,n,t){"use strict";t.r(n),t.d(n,{LoginTitle:function(){return o},default:function(){return l}});var r=t(85893),a=t(27261),s=t(58311),u=(t(67294),t(29163)),i=t(61319);function c(){var e=(0,a.Z)(["\n  font-size: 24px;\n  line-height: 36px;\n  text-align: center;\n  color: #333333;\n  margin-bottom: 20px;\n"]);return c=function(){return e},e}var o=u.ZP.div(c());function l(){return(0,r.jsx)("div",{className:"w-full h-full flex relative items-center justify-center",children:(0,r.jsxs)(s.FormWrapper,{className:"relative flex  flex-col\titems-center w-full px-8 md:px-0",children:[(0,r.jsx)(o,{children:"\u91cd\u7f6e\u5bc6\u7801"}),(0,r.jsx)(i.default,{})]})})}},77251:function(e,n,t){"use strict";t.r(n),t.d(n,{LoginFormBox:function(){return y}});var r=t(85893),a=t(809),s=t.n(a),u=t(92447),i=t(27261),c=t(29163),o=t(67294),l=t(23912),d=t(46819),f=t(43803),p=t(41559),x=t(11163),h=t(37412),m=t(28447),v=t(22775);function g(){var e=(0,i.Z)(["\n  width: 100%;\n"]);return g=function(){return e},e}var y=c.ZP.div(g());n.default=function(){var e=(0,o.useContext)(h._).dispatch,n=(0,o.useState)(""),t=n[0],a=n[1],i=(0,o.useState)(""),c=i[0],g=i[1],w=(0,o.useState)(!1),j=w[0],Z=w[1],C=(0,o.useState)(!1),b=C[0],k=C[1],S=function(){var n=(0,u.Z)(s().mark((function n(){var r,a,u,i,o;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,e({type:"UPDATE_LOADING",payload:!0}),n.next=4,(0,f.C2)({username:t,password:c});case 4:r=n.sent,a=r.data,u=a.signature,i=a.uuid,o="Bearer ".concat(u),(0,p.$0)("token",o),(0,p.$0)("uuid",i),e({type:"UPDATE_UUID",payload:i}),e({type:"UPDATE_LOGIN_STATUS",payload:m.x.login}),e({type:"UPDATE_USER_NAME",payload:t}),(0,p.$0)("userName",t),x.default.replace("/panel/fileManager"),n.next=19;break;case 16:n.prev=16,n.t0=n.catch(0),console.log(n.t0);case 19:e({type:"UPDATE_LOADING",payload:!1});case 20:case"end":return n.stop()}}),n,null,[[0,16]])})));return function(){return n.apply(this,arguments)}}();return(0,r.jsx)(y,{children:(0,r.jsxs)(l.Z,{name:"loginForm",children:[(0,r.jsx)(l.Z.Item,{label:"",name:"username",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7528\u6237\u540d\u6216\u624b\u673a\u53f7\u6216\u8005\u90ae\u7bb1"},{min:4,message:"\u8bf7\u81f3\u5c11\u8f93\u51654\u4f4d\u7528\u6237\u540d"}],children:(0,r.jsx)(v.Z,{setValue:function(e){a(e),Z((0,p.x)(e))},placeholder:"\u7528\u6237\u540d\u3001\u624b\u673a\u53f7\u3001\u90ae\u7bb1",size:"large"})}),(0,r.jsx)(l.Z.Item,{label:"",name:"password",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801"}],children:(0,r.jsx)(v.Z,{setValue:function(e){g(e),k((0,p.x)(e))},placeholder:"\u5bc6\u7801",type:"password",maxLength:16})}),(0,r.jsx)(l.Z.Item,{wrapperCol:{span:32},children:j&&b?(0,r.jsx)(d.Z,{type:"button",onClick:function(){return S()},size:"large",children:"\u767b\u5f55"}):(0,r.jsx)(d.Z,{type:"button",size:"large",style:{background:"#CCCCCC"},children:"\u767b\u5f55"})})]})})}},58311:function(e,n,t){"use strict";t.r(n),t.d(n,{FormWrapper:function(){return p},Logo:function(){return x},FlexBox:function(){return h},BetweenFlexBox:function(){return m},default:function(){return g}});var r=t(85893),a=t(27261),s=(t(67294),t(29163)),u=t(65022),i=t(77251),c=t(11163);function o(){var e=(0,a.Z)(["\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n"]);return o=function(){return e},e}function l(){var e=(0,a.Z)(["\n  width: 100%;\n  display: flex;\n  justify-content: space-around;\n"]);return l=function(){return e},e}function d(){var e=(0,a.Z)(["\n  width: 165px;\n  //height: 55px;\n  margin-bottom: 63px;\n  @media (max-height: 800px) {\n    margin-bottom: 20px;\n    transform: scale(0.5);\n  }\n"]);return d=function(){return e},e}function f(){var e=(0,a.Z)(["\n  @media (min-width: 768px) {\n    width: 457px;\n  }\n"]);return f=function(){return e},e}var p=s.ZP.div(f()),x=s.ZP.embed(d()),h=s.ZP.div(l()),m=s.ZP.div(o()),v={paddingLeft:20};function g(){return(0,r.jsx)("div",{className:"w-full h-full flex relative items-center justify-center",children:(0,r.jsxs)(p,{className:"relative flex  flex-col\titems-center w-full px-8 md:px-0",children:[(0,r.jsx)(x,{src:(0,u.Dx)()}),(0,r.jsx)(i.default,{}),(0,r.jsx)(h,{children:(0,r.jsxs)("span",{style:{fontSize:"14px"},children:["\u5fd8\u8bb0\u5bc6\u7801?",(0,r.jsx)("span",{style:v,className:"link",onClick:function(){return c.default.push("/resetPassword")},children:"\u91cd\u7f6e\u5bc6\u7801"})]})})]})})}},65022:function(e,n,t){"use strict";t.d(n,{AK:function(){return i},Dx:function(){return c},Pt:function(){return o},qj:function(){return l}});var r=t(27484),a=t.n(r),s=(t(81354),t(96486),t(70178)),u=t.n(s);a().extend(u());function i(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return n.filter((function(e){return e&&e.length})).join(" ")}function c(){return"/logo_dark.png"}function o(e){try{var n=localStorage.getItem(e);if(null===n)return;return JSON.parse(n)}catch(t){return}}function l(e,n){try{var t=JSON.stringify(n);window.localStorage.setItem(e,t)}catch(r){return}}},42480:function(){}}]);