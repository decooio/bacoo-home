(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8829],{22775:function(e,n,t){"use strict";var r=t(26265),a=t(85893),s=t(38347),c=t(67294),o=t(22436);function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function u(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var l=function(e){return{width:e||"100%",height:"50px",background:" #F8F8F8",border:" 1px solid #DDDDDD",borderRadius:"8px",boxShadow:"none"}},d=function(e){return{width:e||"100%",height:"50px",borderRadius:"8px",boxShadow:"none"}};n.Z=function(e){var n,t=e.setValue,r=e.value,i=e.width,p=(0,s.Z)(e,["setValue","value","width"]),f=(0,c.useState)(""),h=f[0],x=f[1];return(0,a.jsx)(o.Z,u(u({value:r,size:"large",style:h?(n=i,{width:n||"100%",height:"50px",border:" 1px solid #DDDDDD",borderRadius:"8px",boxShadow:"none",background:" #fff"}):p.placeholder?l(i):d(i)},p),{},{onInput:function(e){x(e.target.value),t(e.target.value)}}))}},68829:function(e,n,t){"use strict";t.r(n),t.d(n,{BetweenFlexBox:function(){return D},LoginFormBox:function(){return O},VerifyBtn:function(){return P},CountdownBtn:function(){return I},verifyCodeImgStyle:function(){return _},ErrorBox:function(){return A},BtnBox:function(){return E}});var r=t(85893),a=t(809),s=t.n(a),c=t(92447),o=t(27261),i=t(29163),u=t(67294),l=t(48086),d=t(23912),p=t(90371),f=t(13002),h=t(46819),x=t(43803),g=t(28447),m=t(41559),v=t(11163),y=t(37412),w=t(22775);function b(){var e=(0,o.Z)(["\n  display: flex;\n  justify-content: space-between;\n  margin-top: 25px;\n"]);return b=function(){return e},e}function j(){var e=(0,o.Z)([""]);return j=function(){return e},e}function Z(){var e=(0,o.Z)(["\n  background: #cccccc;\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n  height: 52px;\n  width: 457px;\n  font-size: 16px;\n  border-radius: 8px;\n  color: #ffffff;\n  cursor: pointer;\n  max-width: 100%;\n"]);return Z=function(){return e},e}function C(){var e=(0,o.Z)(["\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n  height: 52px;\n  width: 457px;\n  font-size: 16px;\n  border-radius: 8px;\n  color: #ffffff;\n  cursor: pointer;\n  max-width: 100%;\n  background-color: #15c1ba;\n  &:hover {\n    background-color: #15c1ba;\n  }\n"]);return C=function(){return e},e}function k(){var e=(0,o.Z)(["\n  width: 100%;\n"]);return k=function(){return e},e}function S(){var e=(0,o.Z)(["\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n"]);return S=function(){return e},e}var D=i.ZP.div(S()),O=i.ZP.div(k()),P=i.ZP.div(C()),I=i.ZP.div(Z()),_={display:"flex",justifyContent:"center",marginBottom:"20px"},A=i.ZP.div(j()),E=i.ZP.div(b()),T={color:"#2CC8C2"};n.default=function(){var e=(0,u.useContext)(y._).dispatch,n=(0,u.useState)(""),t=n[0],a=n[1],o=(0,u.useState)(""),i=o[0],b=o[1],j=(0,u.useState)(""),Z=j[0],C=j[1],k=(0,u.useState)(""),S=k[0],A=k[1],B=(0,u.useState)(""),N=B[0],L=B[1],U=(0,u.useState)(""),V=U[0],F=U[1],q=(0,u.useState)(!1),z=q[0],G=q[1],R=(0,u.useState)(!1),$=R[0],M=R[1],H=(0,u.useState)(""),J=H[0],K=H[1],Q=(0,u.useState)(""),W=Q[0],X=Q[1],Y=(0,u.useState)(60),ee=Y[0],ne=Y[1],te=(0,u.useState)(60),re=te[0],ae=te[1],se=(0,u.useState)(!1),ce=se[0],oe=se[1],ie=(0,u.useState)(!1),ue=ie[0],le=ie[1],de=(0,u.useState)(!1),pe=de[0],fe=de[1],he=(0,u.useState)(!1),xe=he[0],ge=he[1],me=(0,u.useState)(!1),ve=me[0],ye=me[1],we=(0,u.useState)(!1),be=we[0],je=we[1],Ze=(0,u.useState)(!1),Ce=Ze[0],ke=Ze[1],Se=(0,u.useState)(""),De=Se[0],Oe=Se[1],Pe=(0,u.createRef)(),Ie=function(){var e=(0,c.Z)(s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,x.wA)(S);case 2:n=e.sent,K(n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_e=function(){var n=(0,c.Z)(s().mark((function n(){var t,r;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,e({type:"UPDATE_LOADING",payload:!0}),n.next=4,(0,x.yB)({mobile:S,verifyCode:W});case 4:l.ZP.success("\u9a8c\u8bc1\u7801\u53d1\u9001\u6210\u529f"),t=60,r=setInterval((function(){0==t?(ne(60),clearInterval(r)):ne(t--)}),1e3),Oe(""),M(!1),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),n.t0.data.message?Oe(n.t0.data.message):Oe("\u672a\u77e5\u9519\u8bef \u8bf7\u7a0d\u540e\u91cd\u8bd5");case 14:e({type:"UPDATE_LOADING",payload:!1});case 15:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(){return n.apply(this,arguments)}}(),Ae=function(){var n=(0,c.Z)(s().mark((function n(){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:Pe.current.validateFields(["user","phone","code","password"]).then((0,c.Z)(s().mark((function n(){var r,a;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,e({type:"UPDATE_LOADING",payload:!0}),n.next=4,(0,x.qJ)({username:t,password:N,mobile:S,smsCode:V,email:i,emailCode:Z});case 4:r=n.sent,a="Bearer ".concat(r.data.signature),(0,m.$0)("token",a),e({type:"UPDATE_LOGIN_STATUS",payload:g.x.login}),e({type:"UPDATE_USER_NAME",payload:t}),(0,m.$0)("userName",t),v.default.replace("/panel/fileManager"),n.next=16;break;case 13:n.prev=13,n.t0=n.catch(0),console.log(n.t0);case 16:e({type:"UPDATE_LOADING",payload:!1});case 17:case"end":return n.stop()}}),n,null,[[0,13]])}))));case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),Ee=function(){var n=(0,c.Z)(s().mark((function n(){var t,r;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e({type:"UPDATE_LOADING",payload:!0}),n.prev=1,n.next=4,(0,x.fO)(i);case 4:l.ZP.success("\u9a8c\u8bc1\u7801\u53d1\u9001\u6210\u529f"),t=60,r=setInterval((function(){0==t?(ae(60),clearInterval(r)):ae(t--)}),1e3),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),console.log(n.t0);case 12:e({type:"UPDATE_LOADING",payload:!1});case 13:case"end":return n.stop()}}),n,null,[[1,9]])})));return function(){return n.apply(this,arguments)}}();return(0,r.jsxs)(O,{children:[(0,r.jsxs)(d.Z,{name:"loginForm",ref:Pe,children:[(0,r.jsx)(d.Z.Item,{name:"user",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7528\u6237\u540d"},{min:4,message:"\u8bf7\u81f3\u5c11\u8f93\u51654\u4f4d\u7528\u6237\u540d"}],children:(0,r.jsx)(w.Z,{setValue:function(e){a(e),oe((0,m.x)(e))},placeholder:"\u7528\u6237\u540d"})}),(0,r.jsx)(d.Z.Item,{name:"mail",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u90ae\u7bb1"},{pattern:/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/,message:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u90ae\u7bb1"}],children:(0,r.jsx)(w.Z,{setValue:function(e){b(e),ye((0,m.Kf)(e))},placeholder:"\u90ae\u7bb1"})}),(0,r.jsx)(d.Z.Item,{name:"mailCode",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801"}],children:(0,r.jsxs)(D,{children:[(0,r.jsx)(w.Z,{setValue:function(e){C(e),je((0,m.jz)(e))},width:"280px",placeholder:"\u9a8c\u8bc1\u7801"}),re<60?(0,r.jsxs)(I,{style:{width:"148px"},children:[re,"s"]}):(0,r.jsx)(P,{onClick:function(){ve&&Ee()},style:ve?{width:"148px",background:"#2cc8c2"}:{width:"148px",background:"rgb(204, 204, 204)"},children:"\u53d1\u9001\u9a8c\u8bc1\u7801"})]})}),(0,r.jsx)(d.Z.Item,{name:"phone",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7"},{pattern:/^1[3456789]\d{9}$/,message:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u624b\u673a\u53f7"}],children:(0,r.jsx)(w.Z,{setValue:function(e){A(e),le((0,m.al)(e))},placeholder:"\u624b\u673a\u53f7"})}),(0,r.jsx)(d.Z.Item,{name:"code",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801"}],children:(0,r.jsxs)(D,{children:[(0,r.jsx)(w.Z,{setValue:function(e){F(e),ge((0,m.jz)(e))},width:"280px",placeholder:"\u9a8c\u8bc1\u7801"}),ee<60?(0,r.jsxs)(I,{style:{width:"148px"},children:[ee,"s"]}):(0,r.jsx)(P,{onClick:function(){ue&&Pe.current.validateFields(["phone"]).then((0,c.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ie(),M(!0);case 2:case"end":return e.stop()}}),e)}))))},style:ue?{width:"148px",background:"#2cc8c2"}:{width:"148px",background:"rgb(204, 204, 204)"},children:"\u53d1\u9001\u9a8c\u8bc1\u7801"})]})}),(0,r.jsx)(d.Z.Item,{name:"password",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801"},{max:16,message:"\u5bc6\u7801\u5fc5\u987b\u57286~16\u4f4d\u4e4b\u95f4"},{min:6,message:"\u5bc6\u7801\u5fc5\u987b\u57286~16\u4f4d\u4e4b\u95f4"}],children:(0,r.jsx)(w.Z,{setValue:function(e){L(e),fe((0,m.bT)(e))},type:"password",placeholder:"\u5bc6\u7801",maxLength:16})}),(0,r.jsx)(d.Z.Item,{name:"agree",children:(0,r.jsxs)(p.Z,{checked:z,onChange:function(){return G(!z)},children:["\u6211\u5df2\u540c\u610f"," ",(0,r.jsx)("a",{style:T,href:"/termofuse",target:"_blank",rel:"noreferrer",children:"\u300a\u7528\u6237\u534f\u8bae\u300b"})," ","\u548c"," ",(0,r.jsx)("a",{style:T,target:"_blank",href:"/privacy",rel:"noreferrer",children:"\u300a\u9690\u79c1\u534f\u8bae\u300b"})," "]})}),(0,r.jsx)(d.Z.Item,{wrapperCol:{span:32},children:ce&&ve&&be&&ue&&pe&&xe&&z?(0,r.jsx)(h.Z,{type:"button",onClick:function(){return Ae()},size:"large",children:"\u6ce8\u518c"}):(0,r.jsx)(h.Z,{type:"button",size:"large",style:{background:"#CCCCCC"},children:"\u6ce8\u518c"})})]}),(0,r.jsxs)(f.Z,{centered:!0,title:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801",visible:$,onCancel:function(){M(!1),X("")},cancelText:"\u53d6\u6d88",okText:"\u786e\u5b9a",footer:null,children:[(0,r.jsx)("div",{onClick:function(){return Ie()},style:_,dangerouslySetInnerHTML:{__html:J}}),(0,r.jsx)(d.Z,{children:(0,r.jsx)(d.Z.Item,{validateStatus:De?"error":"validating",help:De,children:(0,r.jsx)(w.Z,{value:W,setValue:function(e){X(e),ke((0,m.dh)(e)),Oe("")},placeholder:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801"})})}),(0,r.jsxs)(E,{children:[(0,r.jsx)(h.Z,{style:{width:"48%",height:"40px",background:"rgba(44, 200, 194, 0.06)",border:"1px solid #2CC8C2",color:"#2CC8C2"},onClick:function(){return M(!1)},children:"\u53d6\u6d88"}),(0,r.jsx)(h.Z,{style:{width:"48%",height:"40px",background:Ce?"#2CC8C2":"#CCCCCC"},onClick:function(){Ce&&_e()},children:"\u786e\u5b9a"})]})]})]})}}}]);