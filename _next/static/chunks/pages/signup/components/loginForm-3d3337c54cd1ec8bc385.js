(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[786],{83807:function(e,t,n){"use strict";var r=n(85893),a=n(26265),o=n(38347),u=n(67294),s=n(22436);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=function(e){return{width:e||"100%",height:"44px",background:" #F8F8F8",border:" 1px solid #DDDDDD",borderRadius:"8px",boxShadow:"none",padding:"10px 24px"}},l=function(e){return{width:e||"100%",height:"44px",borderRadius:"8px",boxShadow:"none",padding:"10px 24px"}};t.Z=function(e){var t,n=e.setValue,a=e.value,i=e.width,d=(0,o.Z)(e,["setValue","value","width"]),f=(0,u.useState)(""),h=f[0],x=f[1];return(0,r.jsx)(s.Z,c(c({value:a,size:"large"},d),{},{style:h?c(c({},(t=i,{width:t||"100%",height:"44px",border:" 1px solid #DDDDDD",borderRadius:"8px",boxShadow:"none",background:" #fff",padding:"10px 24px"})),d.style):d.placeholder?c(c({},p(i)),d.style):c(c({},l(i)),d.style),onInput:function(e){x(e.target.value),n(e.target.value)}}))}},15912:function(e,t,n){"use strict";n.r(t),n.d(t,{LoginFormBox:function(){return w}});var r=n(85893),a=n(809),o=n.n(a),u=n(92447),s=n(27261),i=n(29163),c=n(67294),p=n(23912),l=n(31577),d=n(34498),f=n(54521),h=n(11163),x=n(8450),g=n(12667),b=n(83807);function y(){var e=(0,s.Z)(["\n  width: 100%;\n"]);return y=function(){return e},e}var w=i.ZP.div(y());t.default=function(){var e=(0,c.useContext)(x._).dispatch,t=(0,c.useState)(""),n=t[0],a=t[1],s=(0,c.useState)(""),i=s[0],y=s[1],D=(0,c.useState)(!1),v=D[0],O=D[1],j=(0,c.useState)(!1),m=j[0],_=j[1],P=function(){var t=(0,u.Z)(o().mark((function t(){var r,a,u,s,c;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e({type:"UPDATE_LOADING",payload:!0}),t.next=4,(0,d.C2)({username:n,password:i});case 4:r=t.sent,a=r.data,u=a.signature,s=a.uuid,c="Bearer ".concat(u),(0,f.$0)("token",c),(0,f.$0)("uuid",s),e({type:"UPDATE_UUID",payload:s}),e({type:"UPDATE_LOGIN_STATUS",payload:g.x.login}),(0,d.H7)().then((function(t){e({type:"UPDATE_USER",payload:t.data.info}),e({type:"UPDATE_PLAN",payload:t.data.plan})})),h.default.replace("/panel/fileManager"),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),console.log(t.t0);case 18:e({type:"UPDATE_LOADING",payload:!1});case 19:case"end":return t.stop()}}),t,null,[[0,15]])})));return function(){return t.apply(this,arguments)}}();return(0,r.jsx)(w,{children:(0,r.jsxs)(p.Z,{name:"loginForm",children:[(0,r.jsx)(p.Z.Item,{label:"",name:"username",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7528\u6237\u540d\u6216\u624b\u673a\u53f7\u6216\u8005\u90ae\u7bb1"},{min:4,message:"\u8bf7\u81f3\u5c11\u8f93\u51654\u4f4d\u7528\u6237\u540d"}],children:(0,r.jsx)(b.Z,{setValue:function(e){a(e),O((0,f.x)(e))},placeholder:"\u7528\u6237\u540d\u3001\u624b\u673a\u53f7\u3001\u90ae\u7bb1",size:"large"})}),(0,r.jsx)(p.Z.Item,{label:"",name:"password",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801"}],children:(0,r.jsx)(b.Z,{setValue:function(e){y(e),_((0,f.x)(e))},placeholder:"\u5bc6\u7801",type:"password",maxLength:16})}),(0,r.jsx)(p.Z.Item,{wrapperCol:{span:32},children:v&&m?(0,r.jsx)(l.Z,{type:"button",onClick:function(){return P()},size:"large",children:"\u767b\u5f55"}):(0,r.jsx)(l.Z,{type:"button",size:"large",style:{background:"#CCCCCC"},children:"\u767b\u5f55"})})]})})}},89240:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/signup/components/loginForm",function(){return n(15912)}])}},function(e){e.O(0,[102,912,774,888,179],(function(){return t=89240,e(e.s=t);var t}));var t=e.O();_N_E=t}]);