(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1786],{77251:function(e,n,t){"use strict";t.r(n),t.d(n,{LoginFormBox:function(){return y}});var r=t(85893),a=t(809),s=t.n(a),u=t(92447),o=t(27261),i=t(29163),c=t(67294),l=t(23912),p=t(46819),d=t(43803),f=t(41559),_=t(11163),h=t(37412),m=t(28447),x=t(22775);function g(){var e=(0,o.Z)(["\n  width: 100%;\n"]);return g=function(){return e},e}var y=i.ZP.div(g());n.default=function(){var e=(0,c.useContext)(h._).dispatch,n=(0,c.useState)(""),t=n[0],a=n[1],o=(0,c.useState)(""),i=o[0],g=o[1],w=(0,c.useState)(!1),v=w[0],C=w[1],E=(0,c.useState)(!1),Z=E[0],N=E[1],j=function(){var n=(0,u.Z)(s().mark((function n(){var r,a,u,o,c;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,e({type:"UPDATE_LOADING",payload:!0}),n.next=4,(0,d.C2)({username:t,password:i});case 4:r=n.sent,a=r.data,u=a.signature,o=a.uuid,c="Bearer ".concat(u),(0,f.$0)("token",c),(0,f.$0)("uuid",o),e({type:"UPDATE_UUID",payload:o}),e({type:"UPDATE_LOGIN_STATUS",payload:m.x.login}),e({type:"UPDATE_USER_NAME",payload:t}),(0,f.$0)("userName",t),_.default.replace("/panel/fileManager"),n.next=19;break;case 16:n.prev=16,n.t0=n.catch(0),console.log(n.t0);case 19:e({type:"UPDATE_LOADING",payload:!1});case 20:case"end":return n.stop()}}),n,null,[[0,16]])})));return function(){return n.apply(this,arguments)}}();return(0,r.jsx)(y,{children:(0,r.jsxs)(l.Z,{name:"loginForm",children:[(0,r.jsx)(l.Z.Item,{label:"",name:"username",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7528\u6237\u540d\u6216\u624b\u673a\u6216\u8005\u90ae\u7bb1\u53f7"},{min:4,message:"\u8bf7\u81f3\u5c11\u8f93\u51654\u4f4d\u7528\u6237\u540d"}],children:(0,r.jsx)(x.Z,{setValue:function(e){a(e),C((0,f.x)(e))},placeholder:"\u7528\u6237\u540d\u3001\u624b\u673a\u53f7\u3001\u90ae\u7bb1",size:"large"})}),(0,r.jsx)(l.Z.Item,{label:"",name:"password",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801"}],children:(0,r.jsx)(x.Z,{setValue:function(e){g(e),N((0,f.x)(e))},placeholder:"\u5bc6\u7801",type:"password",maxLength:16})}),(0,r.jsx)(l.Z.Item,{wrapperCol:{span:32},children:v&&Z?(0,r.jsx)(p.Z,{type:"button",onClick:function(){return j()},size:"large",children:"\u767b\u5f55"}):(0,r.jsx)(p.Z,{type:"button",size:"large",style:{background:"#CCCCCC"},children:"\u767b\u5f55"})})]})})}},89240:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/signup/components/loginForm",function(){return t(77251)}])}},function(e){e.O(0,[9774,4597,2530,826,3e3,3102,3912,3520],(function(){return n=89240,e(e.s=n);var n}));var n=e.O();_N_E=n}]);