(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8941],{16985:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return b}});var r=t(85893),s=t(67294),a=t(809),c=t.n(a),i=t(92447),l=t(27261),u=t(58311),o=t(68829),p=t(43803),d=t(41559),f=t(23912),x=t(11187),h=t(11163),v=t(46819),w=t(22775),m=t(37412),j=t(92159),y=t(29163),k=t(60155);function _(){var e=(0,l.Z)(["\n  position: absolute;\n  top: 84px;\n  left: 36px;\n  font-size: 16px;\n  line-height: 24px;\n  color: #666666;\n  display: flex;\n  align-items: center;\n  z-index: 99999;\n  cursor: pointer;\n"]);return _=function(){return e},e}var g=y.ZP.div(_()),C=function(){var e=(0,s.useContext)(m._).dispatch,n=(0,s.useState)(""),t=n[0],a=n[1],l=(0,s.useState)(""),y=l[0],_=l[1],C=(0,s.useState)(60),b=C[0],Z=C[1],N=(0,s.useState)(!1),A=N[0],D=N[1],E=(0,s.useState)(!1),I=E[0],P=E[1],T=(0,s.createRef)(),L=function(){var n=(0,i.Z)(c().mark((function n(){var r,s;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,e({type:"UPDATE_LOADING",payload:!0}),n.next=4,(0,p.kj)(t);case 4:x.default.success("\u9a8c\u8bc1\u7801\u53d1\u9001\u6210\u529f"),r=60,s=setInterval((function(){0==r?(Z(60),clearInterval(s)):Z(r--)}),1e3),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),x.default.error(n.t0);case 12:e({type:"UPDATE_LOADING",payload:!1});case 13:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(){return n.apply(this,arguments)}}(),O=function(){var n=(0,i.Z)(c().mark((function n(){return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:T.current.validateFields(["user","phone","code","password"]).then((0,i.Z)(c().mark((function n(){return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,e({type:"UPDATE_LOADING",payload:!0}),n.next=4,(0,p.a$)({mobile:t,smsCode:y});case 4:e({type:"UPDATE_LOADING",payload:!1}),h.default.replace("panel/profile"),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(0),x.default.error(n.t0),e({type:"UPDATE_LOADING",payload:!1});case 12:case"end":return n.stop()}}),n,null,[[0,8]])}))));case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,r.jsxs)("div",{style:{height:"100%"},children:[(0,r.jsxs)(g,{onClick:function(){return h.default.back()},children:[(0,r.jsx)(k.dUf,{}),(0,r.jsx)("span",{style:{marginLeft:"10px"},children:"\u8fd4\u56de"})]}),(0,r.jsx)("div",{className:"w-full h-full flex relative items-center justify-center",children:(0,r.jsxs)(u.FormWrapper,{className:"relative flex  flex-col\titems-center w-full px-8 md:px-0",children:[(0,r.jsx)(j.LoginTitle,{children:"\u66f4\u6539\u624b\u673a\u53f7"}),(0,r.jsxs)(f.Z,{name:"loginForm",ref:T,style:{width:"457px"},children:[(0,r.jsx)(f.Z.Item,{label:"",name:"phone",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7"},{pattern:/^1[3456789]\d{9}$/,message:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u624b\u673a\u53f7"}],children:(0,r.jsx)(w.Z,{setValue:function(e){a(e),D((0,d.al)(e))},placeholder:"\u624b\u673a\u53f7"})}),(0,r.jsx)(f.Z.Item,{label:"",name:"code",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801"}],children:(0,r.jsxs)(o.BetweenFlexBox,{children:[(0,r.jsx)(w.Z,{setValue:function(e){_(e),P((0,d.jz)(e))},width:"280px",placeholder:"\u9a8c\u8bc1\u7801",size:"large"}),b<60?(0,r.jsxs)(o.CountdownBtn,{style:{width:"148px"},children:[b,"s"]}):(0,r.jsx)(o.VerifyBtn,{onClick:function(){A&&T.current.validateFields(["phone"]).then((0,i.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:L();case 1:case"end":return e.stop()}}),e)}))))},style:A?{width:"148px",background:"#2cc8c2"}:{width:"148px",background:"rgb(204, 204, 204)"},children:"\u53d1\u9001\u9a8c\u8bc1\u7801"})]})}),(0,r.jsx)(f.Z.Item,{wrapperCol:{span:32},children:A&&I?(0,r.jsx)(v.Z,{onClick:function(){return O()},size:"large",children:"\u63d0\u4ea4"}):(0,r.jsx)(v.Z,{disabled:!0,size:"large",style:{background:"#CCCCCC"},children:"\u63d0\u4ea4"})})]})]})})]})};function b(){return(0,r.jsx)(C,{})}},27252:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/setPhone",function(){return t(16985)}])}},function(e){e.O(0,[9774,3662,260,4597,2530,826,3e3,3102,6629,724,3912,3002,1929,7204,7674,8829,6022],(function(){return n=27252,e(e.s=n);var n}));var n=e.O();_N_E=n}]);